services:
  app:
    image: jc21/nginx-proxy-manager:{{ npm_container_version }}
    container_name: {{ npm_container_name }}
    ports:
      - 80:80
      - 443:443
      - {{ npm_admin_port }}:81
    volumes:
      - data:/data
      - letsencrypt:/etc/letsencrypt
    restart: unless-stopped
    labels:
        - homepage.group=Services
        - homepage.name=Nginx Proxy Manager
        - homepage.icon=nginx-proxy-manager.png
        - homepage.href={{ npm_url }}
        - homepage.siteMonitor={{ npm_url }}
        - homepage.description=Reverse Proxy
        - homepage.widget.type=npm
        - homepage.widget.url={{ npm_url }}
        - homepage.widget.username={{ npm_username }}
        - homepage.widget.password={{ npm_password }}

volumes:
  letsencrypt:
  data: